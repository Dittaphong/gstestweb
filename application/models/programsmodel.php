<?phpdefined('BASEPATH') OR exit('No direct script access allowed');class programsmodel extends CI_Model {	public function Programs_Relate() {		$this->db->join('attribute_faculty', 'program.FACULTYID = attribute_faculty.FACULTYID');		$this->db->join('attribute_department', 'program.DEPARTMENTID = attribute_department.DEPARTMENTID');		$this->db->join('attribute_level', 'program.LEVELID = attribute_level.LEVELID');	}	public function ProgramsAll() {		$this->Programs_Relate();		$query = $this->db->get('program');		return $query->result_array();	}	public function programstrucbyprogram($input) {		$this->db->where('relate_program_structure.PROGRAMID', $input);		$query = $this->db->get('relate_program_structure');		return $query->result_array();	}	public function programswithstd($input) {		$this->db->where('student_master.PROGRAMID', $input);		$query = $this->db->get('student_master');		return $query->num_rows();	}	public function ProgramsFilter($input) {		if ($input['PROGRAMYEARfor']!="" && $input['PROGRAMYEARto']!="") {			$this->db->where('program.PROGRAMYEAR >=', $input['PROGRAMYEARfor']);			$this->db->where('program.PROGRAMYEAR <=', $input['PROGRAMYEARto']);		}		else if ($input['PROGRAMYEARfor']!="" && $input['PROGRAMYEARto']=="") {			$this->db->where('program.PROGRAMYEAR >=', $input['PROGRAMYEARfor']);		}		else if ($input['PROGRAMYEARfor']=="" && $input['PROGRAMYEARto']!="") {			$this->db->where('program.PROGRAMYEAR <=', $input['PROGRAMYEARto']);		}		else {			$this->db->where('program.PROGRAMYEAR', "*");		}		$this->db->or_like('PROGRAMNAME', $input['PROGRAMNAME']);		$this->db->or_like('PROGRAMCODENAME', $input['PROGRAMNAME']);		$this->db->or_like('PROGRAMABB', $input['PROGRAMNAME']);		$this->db->or_like('FACULTYNAME', $input['FACULTYNAME']);		$this->db->or_like('DEPARTMENTNAME', $input['DEPARTMENTNAME']);		$this->db->or_like('LEVELNAME', $input['LEVELNAME']);		$this->Programs_Relate();		$query = $this->db->get('program');		return $query->result_array();	}	public function programdetail($input) {		$this->db->where('relate_program_officer.PROGRAMID', $input);		$this->db->join('program', 'relate_program_officer.PROGRAMID = program.PROGRAMID');		$this->db->join('attribute_faculty', 'program.FACULTYID = attribute_faculty.FACULTYID');		$this->db->join('attribute_department', 'program.DEPARTMENTID = attribute_department.DEPARTMENTID');		$this->db->join('officer', 'relate_program_officer.OFFICERID = officer.OFFICERID');		$this->db->order_by("PROG_OFFICER_POSITION", "ASC");		$query = $this->db->get('relate_program_officer');		return $query->result_array();	}	public function programinfo($input) {		$this->db->where('PROGRAMID', $input);		$this->Programs_Relate();		$query = $this->db->get('program');		return $query->result_array();	}	public function insertnewprogram($input) {		$this->db->insert('program', $input);	}	public function updateprogram($input) {		$this->db->where('PROGRAMID', $input['PROGRAMID']);		$this->db->update('program', $input);	}	public function deactiveProgram($input) {		$this->db->where('PROGRAMID', $input['PROGRAMID']);		$this->db->update('program', $input);	}	public function insertNewProgStruc($input) {		$this->db->insert('relate_program_structure', $input);	}	public function updateProgStruc($input) {		$this->db->where('PROGRAMSTRUCTUREID',$input['PROGRAMSTRUCTUREID']);		$this->db->update('relate_program_structure', $input);	}	public function delProgStruc($input) {		$this->db->where('PROGRAMSTRUCTUREID', $input);		$this->db->delete('relate_program_structure');	}	public function delprogram($input) {		$this->db->where('PROGRAMID', $input);		$this->db->delete('program');		$this->db->where('PROGRAMID', $input);		$this->db->delete('relate_program_structure');	}	public function officerByProgram($input) {		$this->db->where('PROGRAMID', $input);		$this->db->order_by("PROG_OFFICER_POSITION", "ASC");		$query = $this->db->get('relate_program_officer');		return $query->result_array();	}	public function insertNewOfficerList($input) {		$this->db->insert('relate_program_officer', $input);	}	public function DelOfficerFromList($input) {		$this->db->where('PROGRAMOFFICER_ID', $input);		$this->db->delete('relate_program_officer');	}}